services:
  frontend:
    build:
      context: ./frontend/app  # Assurez-vous que vous avez bien le bon chemin
      dockerfile: Dockerfile
    ports:
      - "80:3000"
    image: stephb421/buildesp-app:latest
    volumes:
      - ./frontend/app:/app # Mount the app directory for live reloading
      - /app/node_modules # Avoid overwriting node_modules inside the container
    environment:
      - CHOKIDAR_USEPOLLING=true # Ensure React watches file changes for live reload
      - REACT_APP_API_URL=http://${PRIVATE_IP_BACK}:3000 # ðŸ”¹ Utilisation de l'IP privÃ©e du backend
    stdin_open: true
    tty: true
    networks:
      - buildesp_network

networks:
  buildesp_network:
    external: true
